{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _style = _interopRequireDefault(require(\"dom-helpers/style\"));\n\nvar _scrollbarSize = _interopRequireDefault(require(\"dom-helpers/util/scrollbarSize\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"../utils/ownerDocument\"));\n\nvar _isOverflowing = _interopRequireDefault(require(\"./isOverflowing\"));\n\nvar _manageAriaHidden = require(\"./manageAriaHidden\");\n\nfunction findIndexOf(data, callback) {\n  var idx = -1;\n  data.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction getPaddingRight(node) {\n  return parseInt((0, _style.default)(node, 'paddingRight') || 0, 10);\n}\n\nfunction setContainerStyle(data) {\n  // We are only interested in the actual `style` here because we will override it.\n  data.style = {\n    overflow: data.container.style.overflow,\n    paddingRight: data.container.style.paddingRight\n  };\n  var style = {\n    overflow: 'hidden'\n  };\n\n  if (data.overflowing) {\n    var scrollbarSize = (0, _scrollbarSize.default)(); // Use computed style, here to get the real padding to add our scrollbar width.\n\n    style.paddingRight = \"\".concat(getPaddingRight(data.container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n    var fixedNodes = (0, _ownerDocument.default)(data.container).querySelectorAll('.mui-fixed');\n\n    for (var i = 0; i < fixedNodes.length; i += 1) {\n      var paddingRight = getPaddingRight(fixedNodes[i]);\n      data.prevPaddings.push(paddingRight);\n      fixedNodes[i].style.paddingRight = \"\".concat(paddingRight + scrollbarSize, \"px\");\n    }\n  }\n\n  Object.keys(style).forEach(function (key) {\n    data.container.style[key] = style[key];\n  });\n}\n\nfunction removeContainerStyle(data) {\n  // The modal might be closed before it had the chance to be mounted in the DOM.\n  if (data.style) {\n    Object.keys(data.style).forEach(function (key) {\n      data.container.style[key] = data.style[key];\n    });\n  }\n\n  var fixedNodes = (0, _ownerDocument.default)(data.container).querySelectorAll('.mui-fixed');\n\n  for (var i = 0; i < fixedNodes.length; i += 1) {\n    fixedNodes[i].style.paddingRight = \"\".concat(data.prevPaddings[i], \"px\");\n  }\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2.default)(this, ModalManager);\n    var _options$hideSiblingN = options.hideSiblingNodes,\n        hideSiblingNodes = _options$hideSiblingN === void 0 ? true : _options$hideSiblingN,\n        _options$handleContai = options.handleContainerOverflow,\n        handleContainerOverflow = _options$handleContai === void 0 ? true : _options$handleContai;\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow; // this.modals[modalIdx] = modal\n\n    this.modals = []; // this.data[containerIdx] = {\n    //   modals: [],\n    //   container,\n    //   overflowing,\n    //   prevPaddings,\n    // }\n\n    this.data = [];\n  }\n\n  (0, _createClass2.default)(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx !== -1) {\n        return modalIdx;\n      }\n\n      modalIdx = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        (0, _manageAriaHidden.ariaHidden)(modal.modalRef, false);\n      }\n\n      if (this.hideSiblingNodes) {\n        (0, _manageAriaHidden.ariaHiddenSiblings)(container, modal.mountNode, modal.modalRef, true);\n      }\n\n      var containerIdx = findIndexOf(this.data, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIdx !== -1) {\n        this.data[containerIdx].modals.push(modal);\n        return modalIdx;\n      }\n\n      var data = {\n        modals: [modal],\n        container: container,\n        overflowing: (0, _isOverflowing.default)(container),\n        prevPaddings: []\n      };\n      this.data.push(data);\n      return modalIdx;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal) {\n      var containerIdx = findIndexOf(this.data, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var data = this.data[containerIdx];\n\n      if (!data.style && this.handleContainerOverflow) {\n        setContainerStyle(data);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx === -1) {\n        return modalIdx;\n      }\n\n      var containerIdx = findIndexOf(this.data, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var data = this.data[containerIdx];\n      data.modals.splice(data.modals.indexOf(modal), 1);\n      this.modals.splice(modalIdx, 1); // If that was the last modal in a container, clean up the container.\n\n      if (data.modals.length === 0) {\n        if (this.handleContainerOverflow) {\n          removeContainerStyle(data);\n        } // In case the modal wasn't in the DOM yet.\n\n\n        if (modal.modalRef) {\n          (0, _manageAriaHidden.ariaHidden)(modal.modalRef, true);\n        }\n\n        if (this.hideSiblingNodes) {\n          (0, _manageAriaHidden.ariaHiddenSiblings)(data.container, modal.mountNode, modal.modalRef, false);\n        }\n\n        this.data.splice(containerIdx, 1);\n      } else if (this.hideSiblingNodes) {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = data.modals[data.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          (0, _manageAriaHidden.ariaHidden)(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIdx;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n  return ModalManager;\n}();\n\nvar _default = ModalManager;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/medic/Desktop/CodingBootCamp/Homework/Monnaie/client/node_modules/@material-ui/core/Modal/ModalManager.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_classCallCheck2","_createClass2","_style","_scrollbarSize","_ownerDocument","_isOverflowing","_manageAriaHidden","findIndexOf","data","callback","idx","some","item","index","getPaddingRight","node","parseInt","setContainerStyle","style","overflow","container","paddingRight","overflowing","scrollbarSize","concat","fixedNodes","querySelectorAll","i","length","prevPaddings","push","keys","forEach","key","removeContainerStyle","ModalManager","options","arguments","undefined","_options$hideSiblingN","hideSiblingNodes","_options$handleContai","handleContainerOverflow","modals","add","modal","modalIdx","indexOf","modalRef","ariaHidden","ariaHiddenSiblings","mountNode","containerIdx","mount","remove","splice","nextTop","isTopModal","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _style = _interopRequireDefault(require(\"dom-helpers/style\"));\n\nvar _scrollbarSize = _interopRequireDefault(require(\"dom-helpers/util/scrollbarSize\"));\n\nvar _ownerDocument = _interopRequireDefault(require(\"../utils/ownerDocument\"));\n\nvar _isOverflowing = _interopRequireDefault(require(\"./isOverflowing\"));\n\nvar _manageAriaHidden = require(\"./manageAriaHidden\");\n\nfunction findIndexOf(data, callback) {\n  var idx = -1;\n  data.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction getPaddingRight(node) {\n  return parseInt((0, _style.default)(node, 'paddingRight') || 0, 10);\n}\n\nfunction setContainerStyle(data) {\n  // We are only interested in the actual `style` here because we will override it.\n  data.style = {\n    overflow: data.container.style.overflow,\n    paddingRight: data.container.style.paddingRight\n  };\n  var style = {\n    overflow: 'hidden'\n  };\n\n  if (data.overflowing) {\n    var scrollbarSize = (0, _scrollbarSize.default)(); // Use computed style, here to get the real padding to add our scrollbar width.\n\n    style.paddingRight = \"\".concat(getPaddingRight(data.container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n    var fixedNodes = (0, _ownerDocument.default)(data.container).querySelectorAll('.mui-fixed');\n\n    for (var i = 0; i < fixedNodes.length; i += 1) {\n      var paddingRight = getPaddingRight(fixedNodes[i]);\n      data.prevPaddings.push(paddingRight);\n      fixedNodes[i].style.paddingRight = \"\".concat(paddingRight + scrollbarSize, \"px\");\n    }\n  }\n\n  Object.keys(style).forEach(function (key) {\n    data.container.style[key] = style[key];\n  });\n}\n\nfunction removeContainerStyle(data) {\n  // The modal might be closed before it had the chance to be mounted in the DOM.\n  if (data.style) {\n    Object.keys(data.style).forEach(function (key) {\n      data.container.style[key] = data.style[key];\n    });\n  }\n\n  var fixedNodes = (0, _ownerDocument.default)(data.container).querySelectorAll('.mui-fixed');\n\n  for (var i = 0; i < fixedNodes.length; i += 1) {\n    fixedNodes[i].style.paddingRight = \"\".concat(data.prevPaddings[i], \"px\");\n  }\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager =\n/*#__PURE__*/\nfunction () {\n  function ModalManager() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2.default)(this, ModalManager);\n    var _options$hideSiblingN = options.hideSiblingNodes,\n        hideSiblingNodes = _options$hideSiblingN === void 0 ? true : _options$hideSiblingN,\n        _options$handleContai = options.handleContainerOverflow,\n        handleContainerOverflow = _options$handleContai === void 0 ? true : _options$handleContai;\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.handleContainerOverflow = handleContainerOverflow; // this.modals[modalIdx] = modal\n\n    this.modals = []; // this.data[containerIdx] = {\n    //   modals: [],\n    //   container,\n    //   overflowing,\n    //   prevPaddings,\n    // }\n\n    this.data = [];\n  }\n\n  (0, _createClass2.default)(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx !== -1) {\n        return modalIdx;\n      }\n\n      modalIdx = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        (0, _manageAriaHidden.ariaHidden)(modal.modalRef, false);\n      }\n\n      if (this.hideSiblingNodes) {\n        (0, _manageAriaHidden.ariaHiddenSiblings)(container, modal.mountNode, modal.modalRef, true);\n      }\n\n      var containerIdx = findIndexOf(this.data, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIdx !== -1) {\n        this.data[containerIdx].modals.push(modal);\n        return modalIdx;\n      }\n\n      var data = {\n        modals: [modal],\n        container: container,\n        overflowing: (0, _isOverflowing.default)(container),\n        prevPaddings: []\n      };\n      this.data.push(data);\n      return modalIdx;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal) {\n      var containerIdx = findIndexOf(this.data, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var data = this.data[containerIdx];\n\n      if (!data.style && this.handleContainerOverflow) {\n        setContainerStyle(data);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx === -1) {\n        return modalIdx;\n      }\n\n      var containerIdx = findIndexOf(this.data, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var data = this.data[containerIdx];\n      data.modals.splice(data.modals.indexOf(modal), 1);\n      this.modals.splice(modalIdx, 1); // If that was the last modal in a container, clean up the container.\n\n      if (data.modals.length === 0) {\n        if (this.handleContainerOverflow) {\n          removeContainerStyle(data);\n        } // In case the modal wasn't in the DOM yet.\n\n\n        if (modal.modalRef) {\n          (0, _manageAriaHidden.ariaHidden)(modal.modalRef, true);\n        }\n\n        if (this.hideSiblingNodes) {\n          (0, _manageAriaHidden.ariaHiddenSiblings)(data.container, modal.mountNode, modal.modalRef, false);\n        }\n\n        this.data.splice(containerIdx, 1);\n      } else if (this.hideSiblingNodes) {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = data.modals[data.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          (0, _manageAriaHidden.ariaHidden)(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIdx;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n  return ModalManager;\n}();\n\nvar _default = ModalManager;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}